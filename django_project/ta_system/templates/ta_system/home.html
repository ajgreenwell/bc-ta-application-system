{% extends "ta_system/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block extra-head %}
    <link rel="stylesheet" type="text/css" href="{% static 'ta_system/home.css' %}" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.mjs"></script>
    <script src="{% static 'ta_system/lab-hour-form.js' %}" type="module" ></script>
{% endblock %}
{% block content %}
    <div class="content-section">
    {% if not system_is_open.status %}
        <h2> The TA Application System is Closed.</h2>
    {% elif system_is_open.status and not user_has_submitted_application %}
        <h2>Apply Here</h2>
        <h4>Course and Professor Preference</h4>
        <p>If you prefer to TA a specific course or with a specific professor note your preference here.</p>
        <form method="POST" action="{% url 'ta_system:home' %}" enctype="multipart/form-data">
            {% csrf_token %}
            {{ app_form | crispy }}
            <!-- includes form submit button -->
            <div id="lab-hour-form"></div>
        </form>
    {% elif system_is_open.status and user_has_submitted_application %}
        <h2>Thank you for applying.</h2>
        <p>
            To edit your account info or update your CS Lab availability, go to your <a href= "{% url 'ta_system:profile' %}">profile</a> page.
        </p>
    {% endif %}
    </div>
{% endblock content %}
